<!DOCTYPE html>
<html>
    <head>
        <title>Ajax Dictionary </title>
    </head>
    <body>
        <form>
            <input type="text" id="searchword" />
            <input type="text" name=""/> id="clicko" type="submit" value="Search" />
            <br><input id="getall" type="submit" value="Get All Definitions" />
            <br>
            <h3>Result</h3>
            <div id="result"></div>
        </form>    
            <script>
                window.onload=function(){
                    var word=document.getElementById("searchword").value;
                    var click=document.getElementById("clicko");
                    var alldef= document.getElementById("getall");
                    var res= document.getElementById("result");
                    var url= "request.php?q=definition";
                    click.onclick=clickfunction;
                    alldef.onclick= alldefinitions;
                }
                
                    function clickfunction(){
                        var xhttp= new XMLHttpRequest();
                        xhttp.onreadystatechange() = function(){
                            if(xhttp.readyState === XMLHttpRequest.DONE){
                                if( xhttp.status=== 200){
                                    result.innerHTML= xhttp.responseText;
                                }
                            }
                            else{
                                result.innerHTML= "Trump is the president and we found a problem with your request, the horror";
                            }
                        };
                      xmlhttp.open("GET",url,true);
                      xmlhttp.send();
                    }
                    
                    function alldefinitions(){
                       clickfunction().onreadystatechange= clickfunction;
                       clickfunction().open("GET","request.php?q=" +res.getAttribute('all'));
                       clickfunction().send();
                    }
       

            </script>
    </body>
</html>

